<!DOCTYPE html>
<html>
<head>
    <title>爱白菜的小昆虫</title>
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />

    <link href="./CSS/demo.css" rel="stylesheet" />

    <script src="./JavaScript/demo.js"></script>
    <script>
        function f() {
            document.getElementById("div1").innerHTML = func(5, 6);
            document.getElementById("div1").className = cDiv1;
        }
    </script>
</head>
    
<body>
    <div id="div1" style="width: 400px; height: 300px; background: #ccc;">
        爱白菜的小昆虫
    </div>
    <input type="button" value="改变" onclick="f()" /><br/>
    <input type="button" value="ajax" onclick="TestAjax()" />
    <img src="./timg.jpg" />
    <a href="./"></a>
</body>
</html>

<script language="javascript">

//创建对象
function GetXmlHttp() {
    if (window.XMLHttpRequest){
        return new XMLHttpRequest();//IE7+, Firefox, Chrome, Opera, Safari
    }
    return new ActiveXObject("Microsoft.XMLHTTP");//IE6, IE5
}

//GET请求
//url:请求链接 /test.lua?fun=arg1,arg2
//async: true（异步）或 false（同步）
//callfunc:回调函数
function RunAjaxGET(url,async,callfunc){
    var xmlhttp = GetXmlHttp();
    xmlhttp.open("GET", url, async);  
    xmlhttp.setRequestHeader("Content-Type","application/x-www-form-urlencoded");
    xmlhttp.onreadystatechange = function(){
        if(xmlhttp.readyState==4 && xmlhttp.status==200){
            callfunc(xmlhttp.responseText);
        }
    }
    xmlhttp.send(null);
}

function TestAjax(){
    RunAjaxGET("index.lua?TestFunc=11,44,爱白菜的小昆虫", true, function(responseText){
        var json = eval('(' + responseText + ')');
        console.log(json);
    });
}

</script>